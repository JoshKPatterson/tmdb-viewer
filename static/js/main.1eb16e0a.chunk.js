(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(55)},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),c=n.n(l),u=n(1),i=n(3),o=n(22),s=function(e){return r.a.createElement("div",{className:"movieItem"},e.title," (",e.releaseDate,")")},m=function(e){return r.a.createElement("div",{className:"movieItem"},e.name," (",e.firstAirDate,")")},v=Object(u.b)(function(e){return{pages:e.itemSearch.pages}})(function(e){var t=e.pages;return r.a.createElement("div",null,t.currentPage<t.totalPages?r.a.createElement("div",null,"showing ",20*t.currentPage-19," - ",20*t.currentPage," of ",t.totalResults):t.currentPage===t.totalPages?r.a.createElement("div",null,"showing ",20*t.currentPage-19," - ",t.totalResults," of ",t.totalResults):void 0)}),d=n(5),E=n.n(d),p=n(8),f=n(23),h=n.n(f).a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"3ef8736602e3112b4a20260c7ba9098b",include_adult:!1,language:"en"}}),g=function(e,t){return function(){var n=Object(p.a)(E.a.mark(function n(a){var r;return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.get("/search/movie",{params:{query:e,page:t}});case 2:r=n.sent,a({type:"MOVIE_SEARCH",payload:{data:r.data,query:e}});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(p.a)(E.a.mark(function n(a){var r;return E.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h.get("/search/tv",{params:{query:e,page:t}});case 2:r=n.sent,a({type:"TV_SEARCH",payload:{data:r.data,query:e}});case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},b=Object(u.b)(function(e){return{type:e.itemIdentifier,query:e.itemSearch.query,page:e.itemSearch.pages.currentPage}},{movieSearch:g,tvShowSearch:S})(function(e){var t=e.type,n=e.movieSearch,a=e.tvShowSearch,l=e.query,c=e.page;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){switch(t){case"MOVIE_SEARCH":n(l,c+1);break;case"TV_SEARCH":a(l,c+1);break;default:return}}},"Next Page"))}),y=Object(u.b)(function(e){return{type:e.itemIdentifier,query:e.itemSearch.query,page:e.itemSearch.pages.currentPage}},{movieSearch:g,tvShowSearch:S})(function(e){var t=e.type,n=e.movieSearch,a=e.tvShowSearch,l=e.query,c=e.page;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){switch(t){case"MOVIE_SEARCH":n(l,c-1);break;case"TV_SEARCH":a(l,c-1);break;default:return}}},"Previous Page"))}),w=Object(u.b)(function(e){return{pages:e.itemSearch.pages}})(function(e){var t=e.pages;return r.a.createElement("div",null,t.currentPage<t.totalPages&&t.currentPage>1?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(b,null)):t.currentPage>1?r.a.createElement(y,null):t.currentPage<t.totalPages?r.a.createElement(b,null):void 0)}),_=Object(u.b)(function(e){return{items:e.itemSearch.list,type:e.itemIdentifier}},{itemSelect:function(e){return{type:"ITEM_SELECT",payload:e}}})(function(e){return r.a.createElement("div",null,null===e.items?null:r.a.createElement(v,null),function(){if(null===e.items)return r.a.createElement("div",null,"Make a search to see a list of movies!");switch(e.type){case"MOVIE_SEARCH":return e.items.map(function(t){return r.a.createElement("div",{onClick:function(){return e.itemSelect(t)},key:t.id},r.a.createElement(s,{title:t.original_title,key:t.id,releaseDate:t.release_date,overview:t.overview}))});case"TV_SEARCH":return e.items.map(function(t){return r.a.createElement("div",{onClick:function(){return e.itemSelect(t)},key:t.id},r.a.createElement(m,{name:t.original_name,key:t.id,firstAirDate:t.first_air_date,overview:t.overview}))});default:return null}}(),null===e.items?null:r.a.createElement(w,null))}),O=n(4),j=function(e){return r.a.createElement("div",null,r.a.createElement("select",{onChange:e.setSetting},r.a.createElement("option",{value:"movie"},"Movie"),r.a.createElement("option",{value:"tvShow"},"TV Show")))},k=Object(u.b)(null,{movieSearch:g,tvShowSearch:S})(function(e){var t=Object(a.useState)("transformers"),n=Object(O.a)(t,2),l=n[0],c=n[1],u=Object(a.useState)("movie"),i=Object(O.a)(u,2),o=i[0],s=i[1],m=function(t){switch(o){case"movie":e.movieSearch(l,1);break;case"tvShow":e.tvShowSearch(l,1);break;default:return}};return r.a.createElement("div",{className:"movieSearchBar"},r.a.createElement("input",{type:"text",value:l,onChange:function(e){return c(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?m():null}}),r.a.createElement("button",{onClick:m},"Search"),r.a.createElement(j,{setSetting:function(e){s(e.target.value)}}))}),R=n(7),C=n.n(R),P=n(24),A=function(e,t){var n=e.genre_ids.map(function(e){return t.filter(function(t){return t.id===e})[0].name}),a=Object(P.a)(new Set(n));return r.a.createElement("div",null,"Genres:",0===a.length?r.a.createElement("div",null,"None to display"):a.map(function(e){return r.a.createElement("div",{key:e},e)}))},G=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return e.poster_path?t?a:null:n},I=Object(u.b)(function(e){return{movie:e.itemSelect,movieGenres:e.movieGenresList}})(function(e){var t=e.movie,n=e.movieGenres,l=Object(a.useState)(!1),c=Object(O.a)(l,2),u=c[0],i=c[1];return Object(a.useEffect)(function(){i(!1)},[t]),t?r.a.createElement("div",null,t.poster_path?u?null:r.a.createElement("div",null,"Loading..."):null,G(t,u,t.title),r.a.createElement("br",null),G(t,u,t.release_date,"Release date unknown"),r.a.createElement("br",null),G(t,u,t.overview),r.a.createElement("br",null),r.a.createElement("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):C.a,key:t.poster_path,alt:t.title,onLoad:function(){return i(!0)},onError:function(){return i(!0)}}),r.a.createElement("br",null),G(t,u,A(t,n))):r.a.createElement("div",null,"Select a movie!")}),T=Object(u.b)(function(e){return{show:e.itemSelect,showGenres:e.showGenresList}})(function(e){var t=e.show,n=e.showGenres,l=Object(a.useState)(!1),c=Object(O.a)(l,2),u=c[0],i=c[1];return Object(a.useEffect)(function(){i(!1)},[t]),t?r.a.createElement("div",null,t.poster_path?u?null:r.a.createElement("div",null,"Loading..."):null,G(t,u,t.name),r.a.createElement("br",null),G(t,u,t.first_air_date,"First Air Date Unknown"),r.a.createElement("br",null),G(t,u,t.overview),r.a.createElement("br",null),r.a.createElement("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w300".concat(t.poster_path):C.a,key:t.poster_path,alt:t.title,onLoad:function(){return i(!0)},onError:function(){return i(!0)}}),r.a.createElement("br",null),G(t,u,A(t,n))):r.a.createElement("div",null,"Select a show!")}),V=Object(u.b)(function(e){return{type:e.itemIdentifier}})(function(e){switch(e.type){case"MOVIE_SEARCH":return r.a.createElement(I,null);case"TV_SEARCH":return r.a.createElement(T,null);default:return null}});var H=Object(u.b)(null,{genresGet:function(){return function(){var e=Object(p.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/genre/movie/list");case 2:return e.t0=e.sent,e.next=5,h.get("/genre/tv/list");case 5:e.t1=e.sent,n={movieGenres:e.t0,showGenres:e.t1},t({type:"GENRES_GET",payload:n});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.genresGet;return Object(a.useEffect)(function(){t()},[]),r.a.createElement("div",{className:"app"},r.a.createElement(k,null),r.a.createElement("div",{className:"movieArea"},r.a.createElement("div",{className:"movieListArea"},r.a.createElement(_,null)),r.a.createElement("div",{className:"selectedMovieArea"},r.a.createElement(V,null))))}),M=Object(i.c)({itemSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:null,query:null,pages:{currentPage:null,totalResults:null,totalPages:null}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIE_SEARCH":case"TV_SEARCH":return{list:t.payload.data.results,query:t.payload.query,pages:{currentPage:t.payload.data.page,totalResults:t.payload.data.total_results,totalPages:t.payload.data.total_pages}};default:return e}},itemSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIE_SEARCH":case"TV_SEARCH":return null;case"ITEM_SELECT":return t.payload;default:return e}},itemIdentifier:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIE_SEARCH":case"TV_SEARCH":return t.type;default:return e}},movieGenresList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENRES_GET":return t.payload.movieGenres.data.genres;default:return e}},showGenresList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENRES_GET":return t.payload.showGenres.data.genres;default:return e}}}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,q=Object(i.e)(M,N(Object(i.a)(o.a)));c.a.render(r.a.createElement(u.a,{store:q},r.a.createElement(H,null)),document.getElementById("root"))},7:function(e,t,n){e.exports=n.p+"static/media/image_not_available.d3751d34.jpg"}},[[25,1,2]]]);
//# sourceMappingURL=main.1eb16e0a.chunk.js.map